@model EShopOnWeb.Models.Product
@{
    ViewData["Title"] = Model.Name;
}

<div class="container py-4">
    <!-- Breadcrumb -->
    <nav class="breadcrumb-premium mb-4">
        <span class="breadcrumb-item"><a asp-controller="Home" asp-action="Index">Home</a></span>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item"><a asp-controller="Products" asp-action="Index">Products</a></span>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item active">@Model.Name</span>
    </nav>

    <div class="row g-5">
        <!-- Product Image -->
        <div class="col-lg-6">
            <div class="product-gallery">
                <img src="@Model.ImageUrl" alt="@Model.Name" />
            </div>
        </div>

        <!-- Product Info -->
        <div class="col-lg-6">
            <div class="product-info">
                <span class="product-category">@Model.Category?.Name</span>
                <h1 class="product-title">@Model.Name</h1>
                
                <div class="star-rating mb-3">
                    <i class="bi bi-star-fill star"></i>
                    <i class="bi bi-star-fill star"></i>
                    <i class="bi bi-star-fill star"></i>
                    <i class="bi bi-star-fill star"></i>
                    <i class="bi bi-star-half star"></i>
                    <span class="text-muted ms-2">(128 reviews)</span>
                </div>

                <div class="product-price mb-4">@Model.Price.ToString("C")</div>
                
                <p class="product-description">@Model.Description</p>

                <form asp-controller="Cart" asp-action="Add" method="post">
                    <input type="hidden" name="productId" value="@Model.Id" />
                    
                    <div class="mb-4">
                        <label class="form-label fw-semibold">Quantity</label>
                        <div class="quantity-control" style="display: inline-flex;">
                            <button type="button" class="quantity-btn" onclick="decrementQty()">âˆ’</button>
                            <input type="number" id="quantityInput" name="quantity" value="1" min="1" max="99" 
                                   class="quantity-value border-0 bg-transparent text-center" style="width: 50px;" />
                            <button type="button" class="quantity-btn" onclick="incrementQty()">+</button>
                        </div>
                    </div>

                    <div class="d-flex gap-3">
                        <button type="submit" class="btn-premium btn-primary-premium flex-grow-1">
                            <i class="bi bi-cart-plus me-2"></i>Add to Cart
                        </button>
                        <a class="btn-premium btn-outline-premium" asp-controller="Products" asp-action="Index">
                            <i class="bi bi-arrow-left"></i>
                        </a>
                    </div>
                </form>

                <!-- Features -->
                <div class="mt-5 pt-4 border-top">
                    <div class="row g-3">
                        <div class="col-6">
                            <div class="d-flex align-items-center gap-2">
                                <i class="bi bi-truck text-primary fs-4"></i>
                                <span class="small">Free Shipping</span>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="d-flex align-items-center gap-2">
                                <i class="bi bi-shield-check text-primary fs-4"></i>
                                <span class="small">Secure Checkout</span>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="d-flex align-items-center gap-2">
                                <i class="bi bi-arrow-counterclockwise text-primary fs-4"></i>
                                <span class="small">30-Day Returns</span>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="d-flex align-items-center gap-2">
                                <i class="bi bi-headset text-primary fs-4"></i>
                                <span class="small">24/7 Support</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        function incrementQty() {
            const input = document.getElementById('quantityInput');
            if (parseInt(input.value) < 99) {
                input.value = parseInt(input.value) + 1;
            }
        }
        function decrementQty() {
            const input = document.getElementById('quantityInput');
            if (parseInt(input.value) > 1) {
                input.value = parseInt(input.value) - 1;
            }
        }
    </script>
}

