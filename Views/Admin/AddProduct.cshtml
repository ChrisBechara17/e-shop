@model EShopOnWeb.Models.Product
@{
    ViewData["Title"] = "Add Product";
    var categories = ViewBag.Categories as List<EShopOnWeb.Models.Category>;
}

<div class="container py-4">
    <!-- Breadcrumb -->
    <nav class="breadcrumb-premium mb-4">
        <span class="breadcrumb-item"><a asp-action="Products">Admin</a></span>
        <span class="breadcrumb-separator">/</span>
        <span class="breadcrumb-item active">Add Product</span>
    </nav>

    <!-- Alerts -->
    @if (TempData["Error"] != null)
    {
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
            <i class="bi bi-exclamation-circle me-2"></i>@TempData["Error"]
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
        </div>
    }

    <div class="row justify-content-center">
        <div class="col-lg-6">
            <div class="form-premium">
                <div class="text-center mb-4">
                    <i class="bi bi-box-seam fs-1 text-primary mb-3 d-block"></i>
                    <h3 class="fw-bold">Add New Product</h3>
                    <p class="text-muted">Enter product details and upload an image</p>
                </div>

                <form asp-action="AddProduct" method="post" enctype="multipart/form-data">
                    <div class="mb-3">
                        <label asp-for="Name" class="form-label fw-semibold">
                            <i class="bi bi-tag me-1"></i>Product Name
                        </label>
                        <input asp-for="Name" class="form-control form-control-premium" 
                               placeholder="Enter product name" required />
                    </div>

                    <div class="mb-3">
                        <label asp-for="Description" class="form-label fw-semibold">
                            <i class="bi bi-text-paragraph me-1"></i>Description
                        </label>
                        <textarea asp-for="Description" class="form-control form-control-premium" 
                                  rows="3" placeholder="Describe the product"></textarea>
                    </div>

                    <div class="row g-3 mb-3">
                        <div class="col-md-6">
                            <label asp-for="Price" class="form-label fw-semibold">
                                <i class="bi bi-currency-dollar me-1"></i>Price
                            </label>
                            <input asp-for="Price" type="number" step="0.01" min="0"
                                   class="form-control form-control-premium" 
                                   placeholder="0.00" required />
                        </div>
                        <div class="col-md-6">
                            <label asp-for="CategoryId" class="form-label fw-semibold">
                                <i class="bi bi-folder me-1"></i>Category
                            </label>
                            <select asp-for="CategoryId" class="form-select form-control-premium" required>
                                <option value="">Select category...</option>
                                @if (categories != null)
                                {
                                    @foreach (var cat in categories)
                                    {
                                        <option value="@cat.Id">@cat.Name</option>
                                    }
                                }
                            </select>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label class="form-label fw-semibold">
                            <i class="bi bi-image me-1"></i>Product Image
                        </label>
                        <input type="file" name="imageFile" class="form-control form-control-premium" 
                               accept="image/*" />
                        <small class="text-muted">Upload a product image (optional)</small>
                    </div>

                    <div class="d-grid gap-2">
                        <button type="submit" class="btn-premium btn-primary-premium">
                            <i class="bi bi-plus-lg me-2"></i>Create Product
                        </button>
                        <a asp-action="Products" class="btn-premium btn-outline-premium text-center">
                            Cancel
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
